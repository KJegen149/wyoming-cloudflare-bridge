version: '3.8'

services:
  wyoming-cloudflare-bridge:
    build: .
    container_name: wyoming-cloudflare-bridge
    restart: unless-stopped
    ports:
      - "10300:10300"
    environment:
      # Set these to your deployed Cloudflare Worker URLs
      - STT_URL=${STT_URL}
      - TTS_URL=${TTS_URL}
      - LOG_LEVEL=${LOG_LEVEL:-INFO}
    command: >
      --uri tcp://0.0.0.0:10300
      --stt-url ${STT_URL}
      --tts-url ${TTS_URL}
      --log-level ${LOG_LEVEL:-INFO}
